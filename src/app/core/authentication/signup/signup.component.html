<section class="signup-form mt-5 mb-5" fxLayout="column" fxLayout.lt-md="column" fxLayoutGap.lt-md="20px"
  fxLayoutAlign="center center">
  <h1>Sign up</h1>
  <div fxFlex="600px" fxLayout="column" fxFlex.md="100">
    <form (ngSubmit)="submitForm()" novalidate [formGroup]="formGroup" *ngIf="!isLoading">
      <div class="bg-danger text-white p-2 mb-2" *ngIf="formSubmitted && formGroup.invalid">
        <ul>
          <li *ngFor="let error of formGroup.getFormValidationMessages()">
            {{ error }}
          </li>
        </ul>
      </div>
      <div fxLayout='row' fxLayoutGap="20px" class="mt-5" fxLayout.lt-md='column' fxLayoutGap.lt-md="20px"
        fxLayoutAlign="center center">
        <mat-form-field>
          <mat-label>Name</mat-label>
          <input type="text" matInput placeholder="First Name" id="name" name="name"
            formControlName="name">
          <ul class="text-danger list-unstyled"
            *ngIf="(formSubmitted || formGroup.controls['name'].dirty) && formGroup.controls['name'].invalid">
            <li *ngFor="let error of formGroup.getNameValidationMessages('name')">{{ error}}</li>
          </ul>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Birthday</mat-label>
          <input matInput [matDatepicker]="picker" [max]="maxDate" placeholder="Date of Birth" id="dateOfBirth"
            name="dateOfBirth" formControlName="dateOfBirth">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <ul class="text-danger list-unstyled"
            *ngIf="(formSubmitted || formGroup.controls['dateOfBirth'].dirty) && formGroup.controls['dateOfBirth'].invalid">
            <li *ngFor="let error of formGroup.getBirthDayValidationMessages('dateOfBirth')">{{ error}}</li>
          </ul>
        </mat-form-field>
      </div>
      <div fxLayout='row' fxLayoutGap="13px" fxLayout.lt-md='column' fxLayoutGap.lt-md="13px"
        fxLayoutAlign="center center">
        <mat-form-field>
          <mat-label>username</mat-label>
          <input type="text" matInput placeholder="username" id="username" name="username" formControlName="username">
          <ul class="text-danger list-unstyled"
            *ngIf="(formSubmitted || formGroup.controls['username'].dirty) && formGroup.controls['username'].invalid">
            <li *ngFor="let error of formGroup.getUserNameValidationMessages('username')">{{ error}}</li>
          </ul>
        </mat-form-field>
        <mat-form-field>
          <mat-label>email</mat-label>
          <input type="email" matInput placeholder="email" id="email" name="email" formControlName="email">
          <ul class="text-danger list-unstyled"
            *ngIf="(formSubmitted || formGroup.controls['email'].dirty) && formGroup.controls['email'].invalid">
            <li *ngFor="let error of formGroup.getEmailValidationMessages('email')">{{ error}}</li>
          </ul>
        </mat-form-field>
      </div>


      <div fxLayout='row' fxLayoutGap="13px" fxLayout.lt-md='column' fxLayoutGap.lt-md="13px"
        fxLayoutAlign="center center">
        <mat-form-field>
          <mat-label>Password</mat-label>
          <input type="password" matInput hintLabel="Your password should have a minimum of 12 characters"
            placeholder="Password" id="password" name="password" formControlName="password">
          <mat-hint>Your password must contain 12 characters or more.</mat-hint>
          <ul class="text-danger list-unstyled"
            *ngIf="(formSubmitted || formGroup.controls['password'].dirty) && formGroup.controls['password'].invalid">
            <li *ngFor="let error of formGroup.getPasswordValidationMessages('password')">{{ error}}</li>
          </ul>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Confirm Password</mat-label>
          <input type="password" matInput placeholder="Confirm password" id="confirmPassword" name="confirmPassword"
            formControlName="confirmPassword">
          <mat-hint>Ensure that the passwords are the same</mat-hint>
          <ul class="text-danger list-unstyled"
            *ngIf="(formSubmitted || formGroup.controls['confirmPassword'].dirty) && formGroup.controls['confirmPassword'].invalid">
            <li *ngFor="let error of formGroup.getConfirmPasswordValidationMessages('confirmPassword')">{{ error}}</li>
          </ul>
        </mat-form-field>
      </div>
      <div fxLayout='column' fxLayoutAlign="center center" class="mt-5">
        <button type="submit" mat-raised-button color="primary"
          [disabled]="!formSubmitted && formGroup.invalid">Submit</button><br>
        <a class="register" routerLink="/login" style="color:black;">
          <mat-icon>person</mat-icon><span>
            <p class="mx-3">Sign In</p>
          </span>
        </a><br>

        <p><span><a style="color:black;" routerLink="/home">
              <mat-icon>home</mat-icon>
            </a></span></p>
      </div>
    </form>
  </div>
</section>

